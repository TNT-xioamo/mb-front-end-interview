# Qiankun

## 当前主流的微前端方案大概有哪些？

#### 类型：`拓展`

#### 级别：`W4`、`W5`、`W6`

#### 解答（6 分）

- **1：** iframe：Web中的原生方案，也是微前端的起源，接入很简单，但是最大缺点就是通信很麻烦。
- **1：** single-spa：较早兴起的微前端框架，是后续很多微前端框架的奠基石。
- **1：** qiankun：基于 single-spa，由阿里巴巴出品，国内比较主流的微前端方案。
- **1：** micro-app：基于 Webcomponent 的微前端方案，由京东出品。
- **1：** EMP：基于 webpack 5 module federation（模块联邦） 的微前端方案，由欢聚时代出品。
- **1：** 无界：腾讯推出的一款微前端解决方式。它是一种基于 Web Components + iframe 的全新微前端方案，继承 iframe 的优点，补足 iframe 的缺点，让 iframe 焕发新生

## Qiankun 有哪些优点？

#### 类型：`拓展`

#### 级别：`W1`、`W2`、`W3`、`W4`、`W5`、`W6`

#### 解答（4 分）

- **1：** 技术栈无关：支持不同技术栈的子应用集成，如 Vue、React、Angular 等。
- **1：** 独立开发部署：各个子应用可以独立开发、测试、部署，提高团队开发效率。
- **1：** 提升可维护性：便于对大型前端项目进行拆分和管理，降低代码复杂度，提升可维护性。
- **1：** 动态加载：根据需要动态加载子应用，优化资源加载和页面性能。

## Qiankun 如何实现子应用的加载？

#### 类型：`拓展`

#### 级别：`W1`、`W2`、`W3`、`W4`、`W5`、`W6`

#### 解答（2 分）

- **2：** Qiankun 通过 registerMicroApps 方法注册子应用，传入子应用的配置信息，包括名称、入口地址、激活规则等。在运行时，根据路由变化或其他触发条件，动态地加
载子应用的 JavaScript 资源，创建子应用的实例，并将其挂载到指定的 DOM 节点上，实现子应用的加载展示。

## Qiankun 如何处理子应用之间的公共依赖？

#### 类型：`拓展`

#### 级别：`W1`、`W2`、`W3`、`W4`、`W5`、`W6`

#### 解答（1 分）

- **1：** 可以将公共依赖提取到主应用中，通过主应用加载公共依赖并将其共享给子应用，避免子应用重复加载相同的依赖，减少资源浪费和提高性能。在注册子应用时，通过配
置 props 等方式将主应用中的公共依赖传递给子应用使用。

## 简述 qiankun 主应用和微应用的加载流程？

#### 类型：`拓展`

#### 级别：`W1`、`W2`、`W3`、`W4`、`W5`、`W6`

#### 解答（2 分）

- **1：** 主应用：主应用首先需要通过registerMicroApps方法注册微应用，配置微应用的相关信息，如入口地址、名称、激活规则等。然后调用start方法启动 qiankun。在启动过程
中，主应用会监听路由变化，根据激活规则判断哪些微应用需要加载。
- **1：** 微应用：当主应用判断某个微应用需要加载时，会根据微应用的入口地址去请求微应用的资源。微应用需要在自身代码中通过qiankun提供的生命周期钩子函
数（如bootstrap、mount、unmount）来进行初始化、挂载和卸载等操作。例如，在bootstrap中可以进行一些全局变量的初始化，在mount中可以将微应用的 DOM 元素挂载到主应用的指定容器中。